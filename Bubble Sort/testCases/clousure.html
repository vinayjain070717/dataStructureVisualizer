<!doctype html>
<html lang='en'>
<head>
	<meta charset='utf-8'>
	<title>clousure</title>
	<script type="text/javascript">
		function abcd(i)
		{
			setTimeout(function(){
			console.log(i);				
			},1000);
		}
		function test()
		{
			animatedBubbleSort();
		}
			// for(var i=0;i<=9;i++)
			// {
			// 	abcd(i);
			// 	setTimeout(test,1000);
			// 	break;
			// }
			// for (var i = 1; i <= 3; i++) {
			//     (function(index) {
			//     	setTimeout(function() { 
			//     		console.log(index); 
			//     		}, i * 1000);
			//     })(i);
			// 	}
// var i = 0;
// var timer = setInterval(function() {
//   console.log(++i);
//   if (i === 5) clearInterval(timer);
//   console.log('post-interval'); //this will still run after clearing
// }, 200);
// }

// function bubbleSort(i,j)
// {
// if(i==5) return;
// setTimeout(function()
// {
// 	sort1(j);
// 	j=0;
// 	bubbleSort(i+1,j);
// },1000)
	
// }
// function sort1(j)
// {
// 	if(j==5) return;
// 	setTimeout(function(){
// 		console.log(j,j+1);
// 		sort1(j+1);
// 	},500);
// }

function animatedBubbleSort() {
  var i = 0;
  var j = 0;
  var length =5;
  
  (function nextIteration() {
    if (j >= length - i - 1) {
      j = 0;
      i++;
    }
    if (i < length) {
		console.log(j,j+1);

      j++;
      setTimeout(nextIteration, 1000);
    } else 
      console.log("hello");
  })(); 
}
</script>
</head>
<body>
	<div id='myDiv'>
		<button type="button" onclick="test()">test</button>
	</div>
</body>
</html>